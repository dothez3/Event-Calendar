<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Invoice - {{ project.name }}</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; color: #333; line-height: 1.5; }
        h1 { text-align: center; margin-bottom: 2rem; }
        .section { margin-bottom: 1.5rem; }
        .label { font-weight: bold; }
        .btn { display: inline-block; margin-top: 1rem; padding: 0.4rem 1rem; background:#007bff; color:white; text-decoration:none; border-radius:4px;}
        .row { display: flex; justify-content: space-between; margin-bottom: 1rem; }
        .col-left { text-align: left; }
        .col-right { text-align: right; }
        .invoice-body { margin-top: 2rem; white-space: pre-line; }

        /* Fee table styling */
        .fee-table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
        .fee-table th, .fee-table td { padding: 10px 8px; border-bottom: 1px solid #ddd; }
        .fee-table th { background-color: #f5f5f5; text-align: left; }
        .fee-table td.right { text-align: right; font-family: monospace; }
        .fee-table tfoot td { font-weight: bold; border-top: 2px solid #333; }
        .fee-section { margin-top: 40px; }
        @media print { .btn { display:none; } }
    </style>
</head>
<body>
    

<!-- Header with logo and company info -->
<div style="
    border-top: 5px solid #ccc;
    border-bottom: 5px solid #ccc;
    padding: 10px 0;
    margin-bottom: 30px;
    display: flex;
    justify-content: space-between;
    align-items: center;
">

    <!-- Left: Logo -->
    <div>
        <img src="{{ url_for('static', filename='images/company_logo.png') }}"
             alt="Company Logo"
             style="height: 70px; opacity: 0.85; filter: grayscale(100%);">
    </div>

    <!-- Right: Company Info -->
    <div style="
        text-align: right;
        font-family: Arial, Helvetica, sans-serif;
        font-size: 18px;
        line-height: 1.4;
    ">
        <strong style="color: gray;">Craig F. Dothe Architect, LLC</strong><br>
        <span style="color: gray;">ARCHITECTS &amp; PLANNERS</span>
    </div>

</div>




    <h1>Invoice</h1>

    <!-- Top row: Date and Project Number -->
    <div class="row">
        <div class="col-left">
            <div><span class="label">Date:</span> {{ current_date }}</div>
            <div><span class="label">Project #:</span> {{ project_number }}</div>
        </div>
        <div class="col-right">
            <div><span class="label">Project:</span> {{ project.name }}</div>
        </div>
    </div>

    <!-- To / Building Info Section -->
    <div class="section">
        <div class="col-left">
            <div><span class="label">To:</span></div>
            <div>3424 Winchester Avenue</div>
            <div>Atlantic City, NJ 08401</div>
        </div>
    </div>

    <!-- Client Contact Info -->
    <div class="row section">
        <div class="col-left">
            <div><span class="label">Phone:</span> {{ project.client.phone if project.client else 'N/A' }}</div>
        </div>
        <div class="col-right">
            <div><span class="label">Email:</span> {{ project.client.contact if project.client else 'N/A' }}</div>
        </div>
    </div>

    <hr>

    <!-- Invoice Body -->
    <div class="invoice-body">
        <p>{{ invoice_text }}</p>
    </div>

    <!-- Fee Breakdown Section -->
    <div class="fee-section">
        <h4>FEE BREAKDOWN</h4>
        <table class="fee-table">
            <thead>
                <tr>
                    <th>Description</th>
                    <th class="right">Qty</th>
                    <th class="right">Rate</th>
                    <th class="right">Amount</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Fire escape inspection</td>
                    <td class="left">1</td>
                    <td class="left">$1,000.00</td>
                    <td class="left">$1,000.00</td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="3">TOTAL DUE</td>
                    <td>$1,000.00</td>
                </tr>
            </tfoot>
        </table>
        <p style="margin-top:25px; font-weight:bold;">
            Please pay the total due above.
        </p>
    </div>
    <!--  Print/save as PDF-->
    <a href="#" onclick="window.print()" class="btn">Print / Save as PDF</a>
</body>
</html>